<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="docs.css">
<link rel="stylesheet" type="text/css" href="atom-one-light.css">
<link rel="stylesheet" type="text/css" href="vusion-icon-font.css">
<script src="docs.js"></script>
</head>
<body>

                <article class="u-article"><h1>表单</h1>
<h2>示例</h2>
<h3>基本形式</h3>
<div id="u-example-0" class="u-example"><u-form><u-form-item title="计费方式"></u-form-item><u-form-item title="实例名称"><u-input size="large" maxlength="63" placeholder="由1-63个小写字母，数字，中划线组成，以字母开头，字母或数字结尾"></u-input></u-form-item><u-form-item title="规格"><u-capsules value="0101"><u-capsule value="0101">1核 1GB</u-capsule><u-capsule value="0102">1核 2GB</u-capsule><u-capsule value="0204">2核 4GB</u-capsule><u-capsule value="0408">4核 8GB</u-capsule><u-capsule value="0816">8核 16GB</u-capsule><u-capsule value="0832">8核 32GB</u-capsule><u-capsule value="1664">16核 64GB</u-capsule></u-capsules></u-form-item><u-form-item title="端口号"><u-input size="large" maxlength="5" placeholder="1150-65535" value="3306"></u-input></u-form-item><u-form-item title="详情"><u-textarea></u-textarea></u-form-item><u-form-item title="表格" layout="block"><u-table-view :data="[{
            date: '2016-05-02',
            name: '王小虎',
            address: '上海市普陀区金沙江路 1518 弄',
        }, {
            date: '2016-05-04',
            name: '王大虎',
            address: '上海市普陀区金沙江路 1517 弄'
        }, {
            date: '2016-05-01',
            name: '天王盖地虎',
            address: '上海市普陀区金沙江路 1519 弄'
        }, {
            date: '2016-05-03',
            name: '小鸡炖蘑菇',
            address: '上海市普陀区金沙江路 1516 弄'
        }]"><u-table-view-column title="日期" label="date" sortable></u-table-view-column><u-table-view-column title="姓名" label="name"></u-table-view-column><u-table-view-column title="地址" label="address"></u-table-view-column></u-table-view></u-form-item><u-form-item><u-button color="primary">立即创建</u-button></u-form-item></u-form></div>
<pre class="hljs lang-html"><code><span class="hljs-tag">&lt;<span class="hljs-name">u-form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"计费方式"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"实例名称"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"63"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"由1-63个小写字母，数字，中划线组成，以字母开头，字母或数字结尾"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"规格"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-capsules</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0101"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0101"</span>&gt;</span>1核 1GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0102"</span>&gt;</span>1核 2GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0204"</span>&gt;</span>2核 4GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0408"</span>&gt;</span>4核 8GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0816"</span>&gt;</span>8核 16GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0832"</span>&gt;</span>8核 32GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-capsule</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1664"</span>&gt;</span>16核 64GB<span class="hljs-tag">&lt;/<span class="hljs-name">u-capsule</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">u-capsules</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"端口号"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"1150-65535"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"3306"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"详情"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-textarea</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-textarea</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"表格"</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"block"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-table-view</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"[{
            date: '2016-05-02',
            name: '王小虎',
            address: '上海市普陀区金沙江路 1518 弄',
        }, {
            date: '2016-05-04',
            name: '王大虎',
            address: '上海市普陀区金沙江路 1517 弄'
        }, {
            date: '2016-05-01',
            name: '天王盖地虎',
            address: '上海市普陀区金沙江路 1519 弄'
        }, {
            date: '2016-05-03',
            name: '小鸡炖蘑菇',
            address: '上海市普陀区金沙江路 1516 弄'
        }]"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-table-view-column</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"日期"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">sortable</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-table-view-column</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-table-view-column</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"姓名"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"name"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-table-view-column</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">u-table-view-column</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"地址"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"address"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-table-view-column</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">u-table-view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span>&gt;</span>立即创建<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
</code></pre>
<h3>行内</h3>
<div id="u-example-1" class="u-example"><u-form layout="inline" label-size="auto"><u-form-item title="状态"><u-input maxlength="63" placeholder="认证中"></u-input></u-form-item><u-form-item title="用户名"><u-input maxlength="63" placeholder="请输入用户名"></u-input></u-form-item><u-form-item title="联系号码"><u-input maxlength="63" placeholder="请输入联系号码"></u-input></u-form-item><u-form-item><u-button color="primary">查询</u-button></u-form-item></u-form></div>
<pre class="hljs lang-html"><code><span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">"inline"</span> <span class="hljs-attr">label-size</span>=<span class="hljs-string">"auto"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"状态"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"63"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"认证中"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"63"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入用户名"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"联系号码"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"63"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入联系号码"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span>&gt;</span>查询<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
</code></pre>
<h2>表单验证</h2>
<h3>规则列表</h3>
<p>每个表单项的验证行为用一个有序列表<code>rules</code>来声明，列表中包含若干条验证规则。结构如下：</p>
<div id="u-example-2" class="u-example">[{ type: 'string', required: true, ... }, { type: 'string', min: ... }, { type: 'string', pattern: ... }, ...]</div>
<pre class="hljs lang-javascript"><code>[{ <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, ... }, { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: ... }, { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: ... }, ...]
</code></pre>
<p>每条规则至少包含以下几个参数：</p>
<ul>
<li><code>type</code>：数据类型</li>
<li><code>trigger</code>：触发方式</li>
<li><code>message</code>：验证不通过时的消息提示</li>
<li>...</li>
</ul>
<p>下面举个例子，一个用户名输入框的验证包含以下规则：</p>
<ol>
<li>必须输入用户名，失焦验证</li>
<li>以字母开头，实时验证</li>
<li>字母、数字或中划线组成，实时验证</li>
<li>以字母或数字结尾，失焦验证</li>
<li>4~12个字符，失焦验证</li>
</ol>
<div id="u-example-3" class="u-example"><u-form-item title="用户名" :rules="rules"><u-input size="large" maxlength="112" placeholder="4~12位字母、数字或中划线组成"></u-input></u-form-item></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"112"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12位字母、数字或中划线组成"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rules</span>: [
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[a-zA-Z]/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'以字母开头'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[a-zA-Z0-9-]+$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'字母、数字或中划线组成'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/[a-zA-Z0-9]$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'以字母或数字结尾'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'不得少于4个字符'</span> },
            ],
        };
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4>多字段的规则列表</h4>
<p>如果一个表单多个字段有规则列表，可以在<code>u-form</code>中汇总传入。</p>
<div id="u-example-4" class="u-example"><u-form ref="form" :rules="rules"><u-form-item title="用户名" name="username"><u-input size="large" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
            },
        };
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3>数据类型</h3>
<ul>
<li><code>string</code>: Must be of type string. This is the default type.</li>
<li><code>number</code>: Must be of type number.</li>
<li><code>boolean</code>: Must be of type boolean.</li>
<li><code>method</code>: Must be of type function.</li>
<li><code>regexp</code>: Must be an instance of RegExp or a string that does not generate an exception when creating a new RegExp.</li>
<li><code>integer</code>: Must be of type number and an integer.</li>
<li><code>float</code>: Must be of type number and a floating point number.</li>
<li><code>array</code>: Must be an array as determined by Array.isArray.</li>
<li><code>object</code>: Must be of type object and not Array.isArray.</li>
<li><code>enum</code>: Value must exist in the enum.</li>
<li><code>date</code>: Value must be valid as determined by Date</li>
<li><code>url</code>: Must be of type url.</li>
<li><code>hex</code>: Must be of type hex.</li>
<li><code>email</code>: Must be of type email.</li>
</ul>
<p>其它请参见<a href="https://github.com/yiminghe/async-validator">async-validator</a>。</p>
<h3>触发方式</h3>
<p>表单验证行为按照实时性通常可以分为三种：提交验证、失焦验证、实时验证，分别对应验证规则<code>trigger</code>的三种触发方式：<code>submit</code>, <code>blur</code>, <code>input</code>，规则中默认为<code>submit</code>。</p>
<p>另外还有一种行为叫表单限制，不属于表单验证，但通常与之配合使用。</p>
<h4>提交验证</h4>
<p>点击表单提交按钮时才对表单中所有控件进行验证，通常对应submit按钮的<code>click</code>事件。示例如下：</p>
<div id="u-example-5" class="u-example"><u-form ref="form" :rules="rules"><u-form-item title="用户名" name="username"><u-input size="large" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item><u-form-item><u-button color="primary" @click="submit()">提交</u-button></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"submit()"</span>&gt;</span>提交<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
            },
        };
    },
    <span class="hljs-attr">methods</span>: {
        submit() {
            <span class="hljs-keyword">this</span>.$refs.form.validate()
                .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-string">'提交成功'</span>))
                .catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});
        },
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4>失焦验证</h4>
<p>在表单控件失去焦点时对该控件进行验证，通常对应表单控件的<code>blur</code>事件。示例如下：</p>
<div id="u-example-6" class="u-example"><u-form ref="form" :rules="rules"><u-form-item title="用户名" name="username"><u-input size="large" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
            },
        };
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4>实时验证</h4>
<p>在表单控件的值实时输入改变时，对该控件进行验证，通常对应表单的<code>input</code>事件。当只激活实时验证时，失焦验证会跳过此规则并且覆盖原来的结果，因此通常我们需要采用实时与失焦叠加的方式<code>input+blur</code>。</p>
<p>下面的例子中，对用户名长度和邮箱格式的判断为实时验证。其中邮箱的验证没有采用实时与失焦叠加的方式，可以发现这种方式不是很合理。</p>
<div id="u-example-7" class="u-example"><u-form ref="form" :rules="rules"><u-form-item title="用户名" name="username"><u-input size="large" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
            },
        };
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4>表单限制</h4>
<p>在表单控件的值改变时，对该值限制在规定的长度或范围内，如<code>&lt;input&gt;</code>控件的部分<code>type</code>和<code>maxlength</code>的限制行为等：</p>
<div id="u-example-8" class="u-example"><u-form><u-form-item title="用户名"><u-input size="large" maxlength="4" placeholder="不超过4个字符"></u-input></u-form-item></u-form></div>
<pre class="hljs lang-html"><code><span class="hljs-tag">&lt;<span class="hljs-name">u-form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"4"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"不超过4个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
</code></pre>
<h2>案例</h2>
<p>前面的示例只是局部展示组件库表单验证体系的使用方法，达到的效果不一定符合实际情况。下面举几种比较合理的案例：</p>
<p>按照表单提交按钮在什么情况下可点击，可以分为以下几种常见且比较合理的情况：始终可点、必填项有内容可点、所有项内容正确时才可点。</p>
<h3>始终可点</h3>
<p>表单提交按钮始终可点。</p>
<p>表现为表单中所有控件的所有行为必须进行提交验证，适当采用失焦和实时验证加以帮助。</p>
<div id="u-example-9" class="u-example"><u-form ref="form" :rules="rules"><u-form-item title="用户名" name="username"><u-input size="large" v-model="model.username" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" v-model="model.email" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item><u-form-item title="手机号码" name="phone"><u-input size="large" v-model="model.phone" maxlength="11" placeholder="请输入手机号码"></u-input></u-form-item><u-form-item><u-button color="primary" @click="submit()">提交</u-button></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.username"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.email"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"手机号码"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.phone"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"11"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入手机号码"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"submit()"</span>&gt;</span>提交<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">model</span>: {
                <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>,
            },
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
                <span class="hljs-attr">phone</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^\d{11}$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'手机号码格式不正确'</span> },
                ],
            },
        };
    },
    <span class="hljs-attr">methods</span>: {
        submit() {
            <span class="hljs-keyword">this</span>.$refs.form.validate()
                .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-string">'提交成功'</span>))
                .catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});
        },
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3>必填项有内容可点</h3>
<p>当表单中所有必填项有内容时，表单提交按钮才可点。</p>
<p>表现为根据表单中必填项是否为空，使用计算属性来实时判断提交按钮是否可点。并且在这种情况下，通常采用三种验证相结合的方式。</p>
<div id="u-example-10" class="u-example"><u-form ref="form" :rules="rules"><u-form-item title="用户名" name="username"><u-input size="large" v-model="model.username" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" v-model="model.email" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item><u-form-item title="手机号码" name="phone"><u-input size="large" v-model="model.phone" maxlength="11" placeholder="请输入手机号码"></u-input></u-form-item><u-form-item><u-button color="primary" :disabled="!canSubmit" @click="submit()">提交</u-button></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.username"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.email"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"手机号码"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.phone"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"11"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入手机号码"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"!canSubmit"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"submit()"</span>&gt;</span>提交<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">model</span>: {
                <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>,
            },
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
                <span class="hljs-attr">phone</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^\d{11}$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'手机号码格式不正确'</span> },
                ],
            },
        };
    },
    <span class="hljs-attr">computed</span>: {
        canSubmit() {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.model.username &amp;&amp; <span class="hljs-keyword">this</span>.model.email;
        },
    },
    <span class="hljs-attr">methods</span>: {
        submit() {
            <span class="hljs-keyword">this</span>.$refs.form.validate()
                .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-string">'提交成功'</span>))
                .catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});
        },
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3>所有项内容正确可点</h3>
<p>当表单中所有项内容均符合要求时，表单提交按钮才可点。</p>
<p>表现为根据每个表单控件的验证结果，使用计算属性来实时判断提交按钮是否可点。这种情况下，一般就不需要进行提交验证了。</p>
<div id="u-example-11" class="u-example"><u-form ref="form" :rules="rules" @validate="canSubmit = $event"><u-form-item title="用户名" name="username"><u-input size="large" v-model="model.username" maxlength="12" placeholder="4~12个字符"></u-input></u-form-item><u-form-item title="邮箱" name="email"><u-input size="large" v-model="model.email" maxlength="24" placeholder="请输入邮箱"></u-input></u-form-item><u-form-item title="手机号码" name="phone"><u-input size="large" v-model="model.phone" maxlength="11" placeholder="请输入手机号码"></u-input></u-form-item><u-form-item><u-button color="primary" :disabled="!canSubmit" @click="submit()">提交</u-button></u-form-item></u-form></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span> @<span class="hljs-attr">validate</span>=<span class="hljs-string">"canSubmit = $event"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.username"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"12"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12个字符"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"邮箱"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.email"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入邮箱"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"手机号码"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model.phone"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"11"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"请输入手机号码"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"!canSubmit"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"submit()"</span>&gt;</span>提交<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">canSubmit</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">model</span>: {
                <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>,
            },
            <span class="hljs-attr">rules</span>: {
                <span class="hljs-attr">username</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入4~12个字符'</span> },
                ],
                <span class="hljs-attr">email</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入邮箱'</span> },
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'邮箱格式不正确'</span> },
                ],
                <span class="hljs-attr">phone</span>: [
                    { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^\d{11}$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'手机号码格式不正确'</span> },
                ],
            },
        };
    },
    mounted() {
        <span class="hljs-comment">// 必须初始化时或在获取数据到时安静验证一次</span>
        <span class="hljs-keyword">this</span>.$refs.form.validate(<span class="hljs-literal">true</span>)
            .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-string">'提交成功'</span>))
            .catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});

        <span class="hljs-comment">// 在获取数据到时如下</span>
        <span class="hljs-comment">// this.getData().then(...)</span>
        <span class="hljs-comment">//  .then(() =&gt; this.$refs.form.validate(true))</span>
        <span class="hljs-comment">//  .then(() =&gt; alert('提交成功'))</span>
        <span class="hljs-comment">//  .catch(() =&gt; {});</span>
    },
    <span class="hljs-attr">methods</span>: {
        submit() {
            <span class="hljs-keyword">this</span>.$refs.form.validate()
                .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-string">'提交成功'</span>))
                .catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});
        },
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</article>
                <!---->
                <script>new Vue().$mount('#u-example-0');
new Vue().$mount('#u-example-1');
new Vue().$mount('#u-example-2');
new Vue({
    data() {
        return {
            rules: [
                { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                { type: 'string', pattern: /^[a-zA-Z]/, trigger: 'input+blur', message: '以字母开头' },
                { type: 'string', pattern: /^[a-zA-Z0-9-]+$/, trigger: 'input+blur', message: '字母、数字或中划线组成' },
                { type: 'string', pattern: /[a-zA-Z0-9]$/, trigger: 'blur', message: '以字母或数字结尾' },
                { type: 'string', min: 4, trigger: 'blur', message: '不得少于4个字符' },
            ],
        };
    },
}).$mount('#u-example-3');
new Vue({
    data() {
        return {
            rules: {
                username: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, trigger: 'blur', message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入邮箱' },
                    { type: 'email', trigger: 'blur', message: '邮箱格式不正确' },
                ],
            },
        };
    },
}).$mount('#u-example-4');
new Vue({
    data() {
        return {
            rules: {
                username: [
                    { type: 'string', required: true, message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, message: '请输入邮箱' },
                    { type: 'email', message: '邮箱格式不正确' },
                ],
            },
        };
    },
    methods: {
        submit() {
            this.$refs.form.validate()
                .then(() => alert('提交成功'))
                .catch(() => {});
        },
    },
}).$mount('#u-example-5');
new Vue({
    data() {
        return {
            rules: {
                username: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, trigger: 'blur', message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入邮箱' },
                    { type: 'email', trigger: 'blur', message: '邮箱格式不正确' },
                ],
            },
        };
    },
}).$mount('#u-example-6');
new Vue({
    data() {
        return {
            rules: {
                username: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, trigger: 'input+blur', message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入邮箱' },
                    { type: 'email', trigger: 'input', message: '邮箱格式不正确' },
                ],
            },
        };
    },
}).$mount('#u-example-7');
new Vue().$mount('#u-example-8');
new Vue({
    data() {
        return {
            model: {
                username: '',
                email: '',
                phone: '',
            },
            rules: {
                username: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, trigger: 'blur', message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入邮箱' },
                    { type: 'email', trigger: 'blur', message: '邮箱格式不正确' },
                ],
                phone: [
                    { type: 'string', pattern: /^\d{11}$/, trigger: 'blur', message: '手机号码格式不正确' },
                ],
            },
        };
    },
    methods: {
        submit() {
            this.$refs.form.validate()
                .then(() => alert('提交成功'))
                .catch(() => {});
        },
    },
}).$mount('#u-example-9');
new Vue({
    data() {
        return {
            model: {
                username: '',
                email: '',
                phone: '',
            },
            rules: {
                username: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, trigger: 'blur', message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, trigger: 'blur', message: '请输入邮箱' },
                    { type: 'email', trigger: 'blur', message: '邮箱格式不正确' },
                ],
                phone: [
                    { type: 'string', pattern: /^\d{11}$/, trigger: 'blur', message: '手机号码格式不正确' },
                ],
            },
        };
    },
    computed: {
        canSubmit() {
            return this.model.username && this.model.email;
        },
    },
    methods: {
        submit() {
            this.$refs.form.validate()
                .then(() => alert('提交成功'))
                .catch(() => {});
        },
    },
}).$mount('#u-example-10');
new Vue({
    data() {
        return {
            canSubmit: false,
            model: {
                username: '',
                email: '',
                phone: '',
            },
            rules: {
                username: [
                    { type: 'string', required: true, trigger: 'input+blur', message: '请输入用户名' },
                    { type: 'string', min: 4, max: 12, trigger: 'input+blur', message: '请输入4~12个字符' },
                ],
                email: [
                    { type: 'string', required: true, trigger: 'input+blur', message: '请输入邮箱' },
                    { type: 'email', trigger: 'input+blur', message: '邮箱格式不正确' },
                ],
                phone: [
                    { type: 'string', pattern: /^\d{11}$/, trigger: 'input+blur', message: '手机号码格式不正确' },
                ],
            },
        };
    },
    mounted() {
        // 必须初始化时或在获取数据到时安静验证一次
        this.$refs.form.validate(true)
            .then(() => alert('提交成功'))
            .catch(() => {});

        // 在获取数据到时如下
        // this.getData().then(...)
        //  .then(() => this.$refs.form.validate(true))
        //  .then(() => alert('提交成功'))
        //  .catch(() => {});
    },
    methods: {
        submit() {
            this.$refs.form.validate()
                .then(() => alert('提交成功'))
                .catch(() => {});
        },
    },
}).$mount('#u-example-11');</script>
            
</body>
</html>
